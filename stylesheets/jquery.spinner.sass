@import 'bourbon/bourbon'

$initial: 1
$petals: 9
$duration: 0.6s

@mixin keyframes($name)
  @-webkit-keyframes #{$name}
    @content
  @-moz-keyframes #{$name}
    @content
  @-ms-keyframes #{$name}
    @content
  @-o-keyframes #{$name}
    @content
  @-keyframes #{$name}
    @content

@include keyframes(spinner)
  0%
    opacity: 0.2
  100% 
    opacity: 0.4

.spinner
  position: relative
  display: block

  width: 128px
  height: 128px
  margin: 16px

  &.gleam
    background: #444
    @include border-radius(16px)
    > *
      background: #fff
  &.dusky
    background: #fff
    @include border-radius(16px)
    > *
      background: #444

  > *
    opacity: 0.2
    position: absolute
    width: 8% 
    height: 24%
    left: 46% 
    top: 38%
    background: #000

    @include border-radius(128px)
    @include box-shadow(0px 0px 2px rgba(0.0, 0.0, 0.0, 0.4))

    @include animation(spinner $duration linear infinite)

    @for $i from $initial through $petals
      &:nth-child#{"(" + $i + ")"}
        @include transform(rotate((360.0 / $petals * $i) + deg) translate(0, -120%))
        @include animation-delay(($duration / $petals * $i))
